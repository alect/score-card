package
{
	import org.flixel.FlxG;
	import org.flixel.FlxState;
	import org.flixel.FlxText;
	
	public class LoadedState extends FlxState
	{
		private var statusText:FlxText;
		
		public override function create():void
		{
			statusText = new FlxText(0, FlxG.height/2-16, FlxG.width, "Exploiting...");
			statusText.alignment = "center";
			statusText.size = 32;
			this.add(statusText);
			
			if (!FlxKongregate.hasLoaded) 
				FlxKongregate.init(apiHasLoaded);
		}
		
		private function apiHasLoaded():void
		{
			FlxKongregate.connect();
			statusText.text = "Connected!";
			FlxKongregate.submitStats("LevelCompleted-1", 22);
			statusText.text = "Username: " + FlxKongregate.getUserId.toString();
			
		}
	}
}